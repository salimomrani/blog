<div class="users-list">
  @if (store.isLoading()) {
    <div class="loading">
      <p>Chargement des utilisateurs...</p>
    </div>
  }

  @if (store.error()) {
    <div class="error">
      <p>Erreur: {{ store.error() }}</p>
    </div>
  }

  @if (store.isEmpty()) {
    <div class="empty">
      <p>Aucun utilisateur trouvé</p>
    </div>
  }

  @if (store.hasUsers()) {
    <div class="users-grid">
      @for (user of store.users(); track user.id) {
        <div class="user-card" [class.selected]="store.selectedUser()?.id === user.id">
          <div class="user-header">
            <h3>{{ user.firstName }} {{ user.lastName }}</h3>
            <span [class]="'role-badge role-' + user.role.toLowerCase()">
              {{ user.role }}
            </span>
          </div>

          <div class="user-info">
            <p><strong>Username:</strong> {{ user.username }}</p>
            <p><strong>Email:</strong> {{ user.email }}</p>
            <p><strong>Créé le:</strong> {{ user.createdAt | date : 'short' }}</p>
          </div>

          <div class="user-actions">
            <button class="btn btn-primary" (click)="onEdit(user)">Modifier</button>
            <button class="btn btn-danger" (click)="onDelete(user.id)">Supprimer</button>
          </div>
        </div>
      }
    </div>
  }

  @if (store.hasUsers()) {
    <div class="users-stats">
      <p>Total: {{ store.usersCount() }} utilisateur(s)</p>
    </div>
  }
</div>
