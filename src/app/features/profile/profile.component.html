<div class="container-custom py-12">
  <div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
      <h1 class="text-3xl font-bold text-gray-900 mb-6">Mon Profil</h1>

      @if (authStore.user()) {
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Informations personnelles -->
          <div class="space-y-4">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Informations personnelles</h2>

            <div>
              <p class="text-sm font-medium text-gray-500">Prénom</p>
              <p class="text-lg text-gray-900">{{ authStore.user()?.firstName }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Nom</p>
              <p class="text-lg text-gray-900">{{ authStore.user()?.lastName }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Nom complet</p>
              <p class="text-lg text-gray-900 font-semibold">{{ authStore.user()?.fullName }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Email</p>
              <p class="text-lg text-gray-900">{{ authStore.user()?.email }}</p>
              @if (authStore.user()?.emailVerified) {
                <span class="inline-flex items-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full mt-1">
                  ✓ Vérifié
                </span>
              } @else {
                <span class="inline-flex items-center px-2 py-1 text-xs font-medium text-yellow-700 bg-yellow-100 rounded-full mt-1">
                  ⚠ Non vérifié
                </span>
              }
            </div>

            @if (authStore.user()?.phone) {
              <div>
                <p class="text-sm font-medium text-gray-500">Téléphone</p>
                <p class="text-lg text-gray-900">{{ authStore.user()?.phone }}</p>
              </div>
            }
          </div>

          <!-- Informations système -->
          <div class="space-y-4">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Informations système</h2>

            <div>
              <p class="text-sm font-medium text-gray-500">ID Utilisateur</p>
              <p class="text-sm text-gray-900 font-mono">{{ authStore.user()?.id }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Rôle</p>
              <span [class]="getRoleBadgeClass(authStore.user()?.role || 'USER')">
                {{ authStore.user()?.role }}
              </span>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Statut du compte</p>
              @if (authStore.user()?.active) {
                <span class="inline-flex items-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full">
                  ● Actif
                </span>
              } @else {
                <span class="inline-flex items-center px-2 py-1 text-xs font-medium text-red-700 bg-red-100 rounded-full">
                  ● Inactif
                </span>
              }
            </div>

            @if (authStore.user()?.lastLogin) {
              <div>
                <p class="text-sm font-medium text-gray-500">Dernière connexion</p>
                <p class="text-sm text-gray-900">{{ authStore.user()?.lastLogin | date:'medium' }}</p>
              </div>
            }

            <div>
              <p class="text-sm font-medium text-gray-500">Compte créé le</p>
              <p class="text-sm text-gray-900">{{ authStore.user()?.createdAt | date:'medium' }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Dernière mise à jour</p>
              <p class="text-sm text-gray-900">{{ authStore.user()?.updatedAt | date:'medium' }}</p>
            </div>

            <div>
              <p class="text-sm font-medium text-gray-500">Version</p>
              <p class="text-sm text-gray-900 font-mono">v{{ authStore.user()?.version }}</p>
            </div>
          </div>
        </div>

        <div class="mt-8 p-4 bg-blue-50 rounded-lg">
          <p class="text-sm text-blue-800">
            ✅ Votre session est active. Cette page est protégée par authentification.
          </p>
        </div>
      } @else {
        <div class="p-4 bg-yellow-50 rounded-lg">
          <p class="text-sm text-yellow-800">
            ⏳ Chargement de votre profil...
          </p>
        </div>
      }
    </div>
  </div>
</div>
